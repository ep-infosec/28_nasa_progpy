
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "auto_examples/param_est.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_auto_examples_param_est.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_auto_examples_param_est.py:


Example demonstrating the model parameter estimation feature. 

.. GENERATED FROM PYTHON SOURCE LINES 7-53

.. code-block:: default


    from prog_models.models.thrown_object import ThrownObject

    def run_example():
        # Step 1: Build the model with your best guess in parameters
        # Here we're guessing that the thrower is 20 meters tall. Obviously not true!
        # Let's see if parameter estimation can fix this
        m = ThrownObject(thrower_height=20)

        # Step 2: Collect data from the use of the system. Let's pretend we threw the ball once, and collected position measurements 
        times = [0, 1, 2, 3, 4, 5, 6, 7, 8]
        inputs = [{}]*9
        outputs = [
            {'x': 1.83},
            {'x': 36.95},
            {'x': 62.36},
            {'x': 77.81},
            {'x': 83.45},
            {'x': 79.28},
            {'x': 65.3},
            {'x': 41.51},
            {'x': 7.91},
        ]

        # Step 3: Identify the parameters to be estimated
        keys = ['thrower_height', 'throwing_speed']

        # Printing state before
        print('Model configuration before')
        for key in keys:
            print("-", key, m.parameters[key])
        print(' Error: ', m.calc_error(times, inputs, outputs, dt=1e-4))

        # Step 4: Run parameter estimation with data
        m.estimate_params([(times, inputs, outputs)], keys, dt=0.01)

        # Print result
        print('\nOptimized configuration')
        for key in keys:
            print("-", key, m.parameters[key])
        print(' Error: ', m.calc_error(times, inputs, outputs, dt=1e-4))
    
        # Sure enough- parameter estimation determined that the thrower's height wasn't 20 m, instead was closer to 1.9m, a much more reasonable height!

    if __name__=='__main__':
        run_example()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 0 minutes  0.000 seconds)


.. _sphx_glr_download_auto_examples_param_est.py:

.. only:: html

  .. container:: sphx-glr-footer sphx-glr-footer-example


    .. container:: sphx-glr-download sphx-glr-download-python

      :download:`Download Python source code: param_est.py <param_est.py>`

    .. container:: sphx-glr-download sphx-glr-download-jupyter

      :download:`Download Jupyter notebook: param_est.ipynb <param_est.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
